!function(e,a,t){"use strict";var n,r,d,u,o,m,s,i,c,l,w,y,D,h,f,p,k,g,v;return u="yacal",r=null,s={},d={},o={},m={ts:"<#timestamp#>",d:"<#day#>",we:"<#weekend#>",t:"<#today#>",s:"<#selected#>",a:"<#active#>",wn:"<#weekNumber#>",wd:"<#weekday#>",wdnam:"<#weekdayName#>",wdnum:"<#weekdayNumber#>",mnam:"<#monthName#>",mnum:"<#monthNumber#>",md:"<#monthDays#>",y:"<#year#>"},y=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var a;return 0===(a=e.getDay())||6===a},w=function(e){var a,t;return a=y(o.minDate),t=y(o.maxDate),a&&t?o.minDate<=e&&e<=o.maxDate:a?o.minDate<=e:t?e<=o.maxDate:!0},v=function(e){return e.setHours(0,0,0,0)},f=function(e){return v(e)===v(new Date)},h=function(e){return v(r)===v(e)},D=function(e){return e%4===0&&e%100!==0||e%400===0},c=function(e,a){return[31,D(e)?29:28,31,30,31,30,31,31,30,31,30,31][a]},l=function(e){var a;return a=new Date(e.getFullYear(),0,1),Math.ceil(((e-a)/864e5+a.getDay()+1)/7)},i=function(e,a){return new Date(e.getFullYear(),e.getMonth()+a,1)},k=function(e){return s.day.replace(m.ts,e.getTime()).replace(m.d,e.getDate()).replace(m.we,p(e)?" weekend":"").replace(m.t,f(e)?" today":"").replace(m.s,h(e)?" selected":"").replace(m.a,w(e)?" active":"").replace(m.wd,e.getDay())},g=function(e){var a,t,n,r,u,i,w;if(u=c(e.getYear(),e.getMonth()),n=e.getMonth(),w=e.getFullYear(),r="",o.showWeekdays){for(i=0,r+=s.weekOpen.replace(m.wn,i);6>=i;)r+=s.weekday.replace(m.wdnam,d.weekdays[i]).replace(m.wdnum,i),i++;r+=s.weekClose}for(a=0;u>a;)t=new Date(w,n,a+1),(0===a||0===t.getDay())&&(r+=s.weekOpen.replace(m.wn,l(t))),r+=k(t,s.day),(a===u-1||6===t.getDay())&&(r+=s.weekClose),a++;return s.month.replace(m.mnum,n).replace(m.mnam,d.months[n]).replace(m.y,w).replace(m.md,r)},n=function(e,a,t,n){return r=e,s=a,d=t,o=n,this},e.fn.yacal=function(a){var t;return t=e.extend(!0,{},e.fn.yacal.defaults,a),this.each(function(){var a,r,d;if(r="",e(this).data()&&(t=e.extend(!0,{},t,e(this).data())),t.date=new Date(t.date),n(t.date,t.tpl,t.i18n,{nearMonths:parseInt(t.nearMonths),showWD:!!t.showWeekdays,minDate:t.minDate?new Date(t.minDate):void 0,maxDate:t.maxDate?new Date(t.maxDate):void 0,firstDay:parseInt(t.firstDay)}),o.nearMonths)for(d=o.nearMonths;d>0;)r+=g(i(t.date,-d)),d--;if(r+=g(t.date),o.nearMonths)for(a=1;a<=o.nearMonths;)r+=g(i(t.date,+a)),a++;return e(this).append(r)})},e.fn.yacal.defaults={date:new Date,nearMonths:0,showWeekdays:!0,mimDate:null,maxDate:null,tpl:{day:'<a class="day day'+m.wd+m.we+m.t+m.s+m.a+'" data-time="'+m.ts+'">'+m.d+"</a>",weekday:'<i class="weekday weekday'+m.wdnum+'">'+m.wdnam+"</i>",weekOpen:'<div class="week week'+m.wn+'">',weekClose:"</div>",month:'<div class="month month'+m.mnum+'"><h4>'+m.mnam+" "+m.y+"</h4>"+m.md+"</div>"},i18n:{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","Marz","April","May","June","July","August","September","October","November","December"]}},e.fn.yacal.version="0.1.1",e("."+u).yacal()}(jQuery,document,window);