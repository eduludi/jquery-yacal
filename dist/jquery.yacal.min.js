!function(e,t,n){"use strict";var a,r,c,l,u,i,d,w,o,p,f,s,y,m,v,D,h;return c="yacal",u="0.3.1",r=864e5,a="",l={d:"#day#",dt:"#time#",dw:"#dayWeek#",we:"#weekend#",t:"#today#",s:"#selected#",a:"#active#",w:"#week#",ws:"#weekSelected#",wt:"#weekTime#",wd:"#weekday#",wdn:"#weekdayName#",m:"#month#",mnam:"#monthName#",y:"#year#",nav:"#nav#",prev:"#prev#",next:"#next#"},s=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},v=function(e){var t;return 0===(t=e.getDay())||6===t},f=function(e,t,n){var a,r;return a=s(t),r=s(n),a&&r?e>=t&&n>=e:a?e>=t:r?n>=e:!0},h=function(e){return e.setHours(0,0,0,0)},m=function(e){return h(e)===h(new Date)},y=function(e){return e%4===0&&e%100!==0||e%400===0},d=function(e,t){var n,a,r;return r=30,a=31,n=y(e)?29:28,[a,n,a,r,a,r,a,a,r,a,r,a][t]},o=function(e){var t;return t=new Date(e.getFullYear(),0,1),Math.ceil(((e-t)/r+t.getDay()+1)/7)},p=function(e){return new Date(h(e)-e.getDay()*r)},w=function(e){return new Date(e.getTime()+7*r-1)},i=function(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)},D=function(e,t,n,r){return"<"+e+" "+(t?' class="'+t+'"':a)+(r?" data-"+r:a)+">"+(n?n:a)+"</"+e+">"},e.fn.yacal=function(t){return this.each(function(n){var r,c,u,s,y,D,g,k,x,M,N,T,F,S,W,Y,J,b;return r=k=null,M={},u={},g=x=y=s=c=null,N=D=null,T=function(e){return h(k)===h(e)},F=function(e){return f(k,e,w(e))},b=function(){return M.nav.replace(l.prev,u.prev).replace(l.next,u.next)},Y=function(e){return M.day.replace(l.d,e.getDate()).replace(l.dt,e.getTime()).replace(l.dw,e.getDay()).replace(l.we,v(e)?" weekend":a).replace(l.t,m(e)?" today":a).replace(l.s,T(e)?" selected":a).replace(l.a,f(e,y,s)?" active":a)},J=function(e,t){var n,r,c,i,w,f,s,y,m;if(null==t&&(t=!1),n=0,i=a,c=e.getMonth(),m=e.getFullYear(),f=d(e.getYear(),e.getMonth()),x){for(y=0,i+=N[0].replace(l.w,y).replace(l.wt,a).replace(l.ws,a);6>=y;)i+=M.weekday.replace(l.wdn,u.weekdays[y]).replace(l.wd,y++);i+=N[1]}for(;f>n;)r=new Date(m,c,n+1),(0===n||0===r.getDay())&&(s=p(r),w=F(s)?" selected":a,i+=N[0].replace(l.w,o(r)).replace(l.wt,s).replace(l.ws,w)),n++,i+=Y(r,M.day),(n===f||6===r.getDay())&&(i+=N[1]);return D[0].replace(l.m,c).replace(l.mnam,u.months[c]).replace(l.y,m)+i+D[1]},W=function(t,n){var a,c,l,u,d;if(u="",a=e(t),n&&(r=i(r,n)),g)for(d=g;d>0;)u+=J(i(r,-d)),d--;if(u+=J(r,!0),g)for(l=1;g>=l;)u+=J(i(r,+l)),l++;return a.html("").append(e(M.wrap).append(b()).append(u).append(M.clearfix)),c=a.find(".yclNav"),c.find(".prev").on("click",function(){return W(a,-1)}),c.find(".next").on("click",function(){return W(a,1)})},S=e.extend(!0,{},e.fn.yacal.defaults,t),e(this).data()&&(S=e.extend(!0,{},S,e(this).data())),r=k=new Date(S.date),M=S.tpl,u=S.i18n,g=+S.nearMonths,x=!!S.showWeekdays,S.minDate&&(y=new Date(S.minDate)),S.maxDate&&(s=new Date(S.maxDate)),N=M.week.split("|"),D=M.month.split("|"),W(this)})},e.fn.yacal.defaults={date:new Date,nearMonths:0,showWeekdays:1,minDate:null,maxDate:null,firstDay:0,tpl:{day:D("a","day d"+l.dw+l.we+l.t+l.s+l.a,l.d,'time="'+l.dt+'"'),weekday:D("i","wday wd"+l.wd,l.wdn),week:D("div","week w"+l.w+l.ws,"|",'time="'+l.wt+'"'),month:D("div","month m"+l.m,D("h4",null,l.mnam+" "+l.y)+"|"),nav:D("div","yclNav",D("a","prev",D("span",null,l.prev))+D("a","next",D("span",null,l.next))),wrap:D("div","wrap"),clearfix:D("div","clearfix")},i18n:{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],prev:"prev",next:"next"}},e.fn.yacal.version=u,e("."+c).yacal()}(jQuery,document,window);