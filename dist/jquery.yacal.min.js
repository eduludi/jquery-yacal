!function(e,t,n){"use strict";var a,r,c,l,u,i,d,w,o,p,f,s,y,m,v,D;return c="yacal",r=864e5,a="",l={d:"#day#",dt:"#time#",dw:"#dayWeek#",we:"#weekend#",t:"#today#",s:"#selected#",a:"#active#",w:"#week#",ws:"#weekSelected#",wt:"#weekTime#",wd:"#weekday#",wdn:"#weekdayName#",m:"#month#",mnam:"#monthName#",y:"#year#",nav:"#nav#",prev:"#prev#",next:"#next#"},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},m=function(e){var t;return 0===(t=e.getDay())||6===t},p=function(e,t,n){var a,r;return a=f(t),r=f(n),a&&r?e>=t&&n>=e:a?e>=t:r?n>=e:!0},D=function(e){return e.setHours(0,0,0,0)},y=function(e){return D(e)===D(new Date)},s=function(e){return e%4===0&&e%100!==0||e%400===0},i=function(e,t){var n,a,r;return r=30,a=31,n=s(e)?29:28,[a,n,a,r,a,r,a,a,r,a,r,a][t]},w=function(e){var t;return t=new Date(e.getFullYear(),0,1),Math.ceil(((e-t)/r+t.getDay()+1)/7)},o=function(e){return new Date(D(e)-e.getDay()*r)},d=function(e){return new Date(e.getTime()+7*r-1)},u=function(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)},v=function(e,t,n,r){return"<"+e+" "+(t?' class="'+t+'"':a)+(r?" data-"+r:a)+">"+(n?n:a)+"</"+e+">"},e.fn.yacal=function(t){return this.each(function(n){var r,c,f,s,v,h,g,k,x,M,N,T,F,S,W,Y,J,b;return r=k=null,M={},f={},g=x=v=s=c=null,N=h=null,T=function(e){return D(k)===D(e)},F=function(e){return p(k,e,d(e))},b=function(){return M.nav.replace(l.prev,f.prev).replace(l.next,f.next)},Y=function(e){return M.day.replace(l.d,e.getDate()).replace(l.dt,e.getTime()).replace(l.dw,e.getDay()).replace(l.we,m(e)?" weekend":a).replace(l.t,y(e)?" today":a).replace(l.s,T(e)?" selected":a).replace(l.a,p(e,v,s)?" active":a)},J=function(e,t){var n,r,c,u,d,p,s,y,m;if(null==t&&(t=!1),p=i(e.getYear(),e.getMonth()),c=e.getMonth(),m=e.getFullYear(),u=a,n=0,x){for(y=0,u+=N[0].replace(l.w,y).replace(l.wt,a).replace(l.ws,a);6>=y;)u+=M.weekday.replace(l.wdn,f.weekdays[y]).replace(l.wd,y++);u+=N[1]}for(;p>n;)r=new Date(m,c,n+1),(0===n||0===r.getDay())&&(s=o(r),d=F(s)?" selected":a,u+=N[0].replace(l.w,w(r)).replace(l.wt,s).replace(l.ws,d)),n++,u+=Y(r,M.day),(n===p||6===r.getDay())&&(u+=N[1]);return h[0].replace(l.m,c).replace(l.mnam,f.months[c]).replace(l.y,m)+u+h[1]},W=function(t,n){var a,c,l,i,d;if(i="",a=e(t),n&&(r=u(r,n)),g)for(d=g;d>0;)i+=J(u(r,-d)),d--;if(i+=J(r,!0),g)for(l=1;g>=l;)i+=J(u(r,+l)),l++;return a.html("").append(e(M.wrap).append(b()).append(i).append(M.clearfix)),c=a.find(".yclNav"),c.find(".prev").on("click",function(){return W(a,-1)}),c.find(".next").on("click",function(){return W(a,1)})},S=e.extend(!0,{},e.fn.yacal.defaults,t),e(this).data()&&(S=e.extend(!0,{},S,e(this).data())),r=k=new Date(S.date),M=S.tpl,f=S.i18n,g=parseInt(S.nearMonths),x=!!S.showWeekdays,S.minDate&&(v=new Date(S.minDate)),S.maxDate&&(s=new Date(S.maxDate)),c=parseInt(S.firstDay),N=M.week.split("|"),h=M.month.split("|"),W(this)})},e.fn.yacal.defaults={date:new Date,nearMonths:0,showWeekdays:1,minDate:null,maxDate:null,firstDay:0,tpl:{day:v("a","day d"+l.dw+l.we+l.t+l.s+l.a,l.d,'time="'+l.dt+'"'),weekday:v("i","wday wd"+l.wd,l.wdn),week:v("div","week w"+l.w+l.ws,"|",'time="'+l.wt+'"'),month:v("div","month m"+l.m,v("h4",null,l.mnam+" "+l.y)+"|"),nav:v("div","yclNav",v("a","prev",v("span",null,l.prev))+v("a","next",v("span",null,l.next))),wrap:v("div","wrap"),clearfix:v("div","clearfix")},i18n:{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],prev:"prev",next:"next"}},e.fn.yacal.version="0.3.0",e("."+c).yacal()}(jQuery,document,window);