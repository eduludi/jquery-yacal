!function(e,t,n){"use strict";var a,r,l,c,u,i,d,o,w,p,f,s,y,v,m,D,h;return l="yacal",u="0.4.0",r=864e5,a="",c={d:"#day#",dt:"#time#",wd:"#weekday#",we:"#weekend#",t:"#today#",s:"#selected#",a:"#active#",w:"#week#",ws:"#weekSelected#",wt:"#weekTime#",wdn:"#weekdayName#",m:"#month#",mnam:"#monthName#",y:"#year#",nav:"#nav#",prev:"#prev#",next:"#next#"},s=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(+e)},m=function(e){var t;return 0===(t=e.getDay())||6===t},f=function(e,t,n){var a,r;return a=s(t),r=s(n),a&&r?e>=t&&n>=e:a?e>=t:r?n>=e:!0},h=function(e){return e.setHours(0,0,0,0)},v=function(e){return h(e)===h(new Date)},y=function(e){return e%4===0&&e%100!==0||e%400===0},d=function(e,t){var n,a,r;return r=30,a=31,n=y(e)?29:28,[a,n,a,r,a,r,a,a,r,a,r,a][t]},w=function(e){var t;return t=new Date(e.getFullYear(),0,1),Math.ceil(((e-t)/r+t.getDay()+1)/7)},p=function(e){return new Date(h(e)-e.getDay()*r)},o=function(e){return new Date(+e+7*r-1)},i=function(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)},D=function(e,t,n,r){return"<"+e+" "+(t?' class="'+t+'"':a)+(r?" data-"+r:a)+">"+(n?n:a)+"</"+e+">"},e.fn.yacal=function(t){return this.each(function(n){var r,l,u,s,y,D,g,k,x,M,N,F,S,Y,J,T,W,b;return r=k=null,x={},u={},g=M=y=s=l=null,N=D=null,F=function(e){return h(k)===h(e)},S=function(e){return f(k,e,o(e))},b=function(){return x.nav.replace(c.prev,u.prev).replace(c.next,u.next)},T=function(e){return console.log(e.getDay()),x.day.replace(c.d,e.getDate()).replace(c.dt,+e).replace(c.wd,e.getDay()).replace(c.we,m(e)?" weekend":a).replace(c.t,v(e)?" today":a).replace(c.s,F(e)?" selected":a).replace(c.a,f(e,y,s)?" active":a)},W=function(e,t){var n,r,l,i,o,f,s,y,v;if(null==t&&(t=!1),n=0,i=a,l=e.getMonth(),v=e.getFullYear(),f=d(e.getYear(),e.getMonth()),M){for(y=0,i+=N[0].replace(c.w,y).replace(c.wt,a).replace(c.ws,a);6>=y;)i+=x.weekday.replace(c.wdn,u.weekdays[y]).replace(c.wd,y++);i+=N[1]}for(;f>n;)r=new Date(v,l,n+1),(0===n||0===r.getDay())&&(s=p(r),o=S(s)?" selected":a,i+=N[0].replace(c.w,w(r)).replace(c.wt,s).replace(c.ws,o)),n++,i+=T(r,x.day),(n===f||6===r.getDay())&&(i+=N[1]);return D[0].replace(c.m,l).replace(c.mnam,u.months[l]).replace(c.y,v)+i+D[1]},J=function(t,n){var a,l,c,u,d;if(u="",a=e(t),n&&(r=i(r,n)),g)for(d=g;d>0;)u+=W(i(r,-d)),d--;if(u+=W(r,!0),g)for(c=1;g>=c;)u+=W(i(r,+c)),c++;return a.html("").append(e(x.wrap).append(b()).append(u).append(x.clearfix)),l=a.find(".yclNav"),l.find(".prev").on("click",function(){return J(a,-1)}),l.find(".next").on("click",function(){return J(a,1)})},Y=e.extend(!0,{},e.fn.yacal.defaults,t),e(this).data()&&(Y=e.extend(!0,{},Y,e(this).data())),r=k=new Date(Y.date),x=Y.tpl,u=Y.i18n,g=+Y.nearMonths,M=!!Y.showWeekdays,Y.minDate&&(y=new Date(Y.minDate)),Y.maxDate&&(s=new Date(Y.maxDate)),N=x.week.split("|"),D=x.month.split("|"),J(this)})},e.fn.yacal.defaults={date:new Date,nearMonths:0,showWeekdays:1,minDate:null,maxDate:null,firstDay:0,tpl:{day:D("a","day d"+c.wd+c.we+c.t+c.s+c.a,c.d,'time="'+c.dt+'"'),weekday:D("i","wday wd"+c.wd,c.wdn),week:D("div","week w"+c.w+c.ws,"|",'time="'+c.wt+'"'),month:D("div","month m"+c.m,D("h4",null,c.mnam+" "+c.y)+"|"),nav:D("div","yclNav",D("a","prev",D("span",null,c.prev))+D("a","next",D("span",null,c.next))),wrap:D("div","wrap"),clearfix:D("div","clearfix")},i18n:{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],prev:"prev",next:"next"}},e.fn.yacal.version=u,e("."+l).yacal()}(jQuery,document,window);