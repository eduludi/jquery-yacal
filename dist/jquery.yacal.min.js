!function(e,a,t){"use strict";var n,r,d,o,u,s,m,i,c,l,w,y,D,h,f,p,k,g,v;return o="yacal",r=null,m={},d={},u={},s={ts:"<#timestamp#>",d:"<#day#>",we:"<#weekend#>",t:"<#today#>",s:"<#selected#>",a:"<#active#>",wn:"<#weekNumber#>",wd:"<#weekday#>",wdnam:"<#weekdayName#>",wdnum:"<#weekdayNumber#>",mnam:"<#monthName#>",mnum:"<#monthNumber#>",md:"<#monthDays#>",y:"<#year#>"},y=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var a;return 0===(a=e.getDay())||6===a},w=function(e){var a,t;return a=y(u.minDate),t=y(u.maxDate),a&&t?u.minDate<=e&&e<=u.maxDate:a?u.minDate<=e:t?e<=u.maxDate:!0},v=function(e){return e.setHours(0,0,0,0)},f=function(e){return v(e)===v(new Date)},h=function(e){return v(r)===v(e)},D=function(e){return e%4===0&&e%100!==0||e%400===0},c=function(e,a){return[31,D(e)?29:28,31,30,31,30,31,31,30,31,30,31][a]},l=function(e){var a;return a=new Date(e.getFullYear(),0,1),Math.ceil(((e-a)/864e5+a.getDay()+1)/7)},i=function(e,a){return new Date(e.getFullYear(),e.getMonth()+a,1)},k=function(e){return m.day.replace(s.ts,e.getTime()).replace(s.d,e.getDate()).replace(s.we,p(e)?" weekend":"").replace(s.t,f(e)?" today":"").replace(s.s,h(e)?" selected":"").replace(s.a,w(e)?" active":"").replace(s.wd,e.getDay())},g=function(e){var a,t,n,r,o,i,w;if(o=c(e.getYear(),e.getMonth()),n=e.getMonth(),w=e.getFullYear(),r="",u.showWeekdays){for(i=0,r+=m.weekOpen.replace(s.wn,i);6>=i;)r+=m.weekday.replace(s.wdnam,d.weekdays[i]).replace(s.wdnum,i),i++;r+=m.weekClose}for(a=0;o>a;)t=new Date(w,n,a+1),(0===a||0===t.getDay())&&(r+=m.weekOpen.replace(s.wn,l(t))),r+=k(t,m.day),(a===o-1||6===t.getDay())&&(r+=m.weekClose),a++;return m.month.replace(s.mnum,n).replace(s.mnam,d.months[n]).replace(s.y,w).replace(s.md,r)},n=function(e,a,t,n){return r=e,m=a,d=t,u=n,this},e.fn.yacal=function(a){var t;return t=e.extend(!0,{},e.fn.yacal.defaults,a),this.each(function(){var a,r,d;if(r="",e(this).data()&&(t=e.extend(!0,{},t,e(this).data())),t.date=new Date(t.date),n(t.date,t.tpl,t.i18n,{nearMonths:parseInt(t.nearMonths),showWD:!!t.showWeekdays,minDate:t.minDate?new Date(t.minDate):void 0,maxDate:t.maxDate?new Date(t.maxDate):void 0,firstDay:parseInt(t.firstDay)}),u.nearMonths)for(d=u.nearMonths;d>0;)r+=g(i(t.date,-d)),d--;if(r+=g(t.date),u.nearMonths)for(a=1;a<=u.nearMonths;)r+=g(i(t.date,+a)),a++;return e(this).append(r)})},e.fn.yacal.defaults={date:new Date,nearMonths:0,showWeekdays:!0,mimDate:null,maxDate:null,tpl:{day:'<a class="day day'+s.wd+s.we+s.t+s.s+s.a+'" data-time="'+s.ts+'">'+s.d+"</a>",weekday:'<i class="wday wday'+s.wdnum+'">'+s.wdnam+"</i>",weekOpen:'<div class="week week'+s.wn+'">',weekClose:"</div>",month:'<div class="month month'+s.mnum+'"><h4>'+s.mnam+" "+s.y+"</h4>"+s.md+"</div>"},i18n:{weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]}},e.fn.yacal.version="0.1.1",e("."+o).yacal()}(jQuery,document,window);